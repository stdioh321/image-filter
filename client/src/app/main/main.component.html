<div class="container-fluid" id="main">
    <div class="row" id="main-row">

        <div class="col-md-9 col-7 content-wrap">
            <div class="content-top" [ngClass]="{'no-current':!mainService?.current}">
                <div class="choose-picute-wrap">
                    <label for="uploadFile" class="btn btn-primary mb-0">
                        <i class="fa fa-upload mr-1"></i>Upload da imagem
                        <input type="file" id="uploadFile" (change)="onPictureUpload($event)" accept="image/*"
                            [(ngModel)]="imgUpload" hidden />
                    </label>
                    <!-- <button class="btn btn-success  mx-1" (click)="onSnapChoosed($event)">
                        <i class="fa fa-upload"></i>
                    </button> -->
                </div>
                <div class="download-wrap ml-3" *ngIf="mainService?.current" (click)="downloadCurrentImage($event)">
                    <img src="assets/images/download.svg" alt="">
                </div>
                <div class="reset-wrap ml-3" *ngIf="mainService?.current" (click)="resetAll()">
                    <img src="assets/images/error.svg" alt="">
                </div>
                <div class="add-wrap ml-auto" *ngIf="mainService?.current" (click)="addCurrentImage($event)">
                    <img src="assets/images/plus.svg" alt="">
                </div>
            </div>
            <div class="pictute-wrap">
                <!-- <img id="my-image" style="max-width: 100%; max-height: 100%;"> -->
                <router-outlet></router-outlet>
            </div>
            <div class="saved-pictures-wrap overflow-hidden w-100">
                <div class="row h-100">
                    <div class="col-md-11 col-10 h-100 overflow-hidden">
                        <div class="saved-pictures-preview">
                            <div class="saved-picture-item"
                                *ngFor="let item of mainService?.picturesList;let idx = index">
                                <img (click)="downloadFile(item, idx)" class="currImg" src="{{item?.data}}" />
                                <img (click)="removeCurrentImage(idx)" class="removeImage"
                                    src="./assets/images/error.svg" alt="">
                            </div>
                        </div>

                    </div>
                    <div class="col-md-1 col-2 pl-0 bt-download d-flex align-items-center justify-content-end">
                        <img src="assets/images/download-green.svg" (click)="downloadAllImage()" class="pointer"
                            *ngIf="mainService?.picturesList?.length > 0">

                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-5 menu-wrap" *ngIf="mainService?.current">
            <div class="row h-100" *ngIf="mainService?.current">
                <div class="col-md-5 col-6   pr-0 h-100 overflow-auto menu-items-wrap">
                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 1}"
                        (click)="changeMenu(1);onOriginalSelected()">Fitros</button>
                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 2}"
                        (click)="changeMenu(2);onOriginalSelected()">Art</button>
                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 3}"
                        (click)="changeMenu(3);onOriginalSelected()">Pinturas</button>
                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 4}"
                        (click)="changeMenu(4);onOriginalSelected()">Bordas</button>
                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 5}"
                        (click)="changeMenu(5);onOriginalSelected()">Estilizado</button>
                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 6}"
                        (click)="changeMenu(6);onOriginalSelected()">Iluminação</button>
                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 7}"
                        (click)="changeMenu(7);onOriginalSelected()">Background</button>

                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 8}"
                        (click)="changeMenu(8);onOriginalSelected()">Desenho/Foto</button>

                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 9}"
                        (click)="changeMenu(9);onOriginalSelected()">Molduras</button>

                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 10}"
                        (click)="changeMenu(10);onOriginalSelected()">Nova Realidade</button>

                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 11}"
                        (click)="changeMenu(11);onOriginalSelected()">Celebridades</button>
                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 12}"
                        (click)="changeMenu(12);onOriginalSelected()">Animações</button>

                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 98}"
                        (click)="changeMenu(98);onOriginalSelected();openEditor()">Editar</button>
                    <button class="btn btn-dark btn-block" [ngClass]="{'selected':currMenu == 99}"
                        (click)="changeMenu(99);openLogomarca()">Logomarca</button>

                </div>
                <div class="col-md-7 col-6 h-100 current-menu-wrap">
                    <div class="current-menu" *ngIf="currMenu==1">
                        <ul class="menu-filters">

                            <li class="menu-filters-item" *ngFor="let item of photoFiltersList?.color;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoSelected(item?.filter_name,idx,item?.canChange)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_color_{{idx}}.jpg" alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}</div>
                                </div>
                                <div *ngIf="currFilter==idx" class="filter-intensity-range">
                                    <input type="range" min="0" max="1" step="0.1" value="1"
                                        (input)="onFilterRangeChange($event)" />
                                </div>
                            </li>

                        </ul>
                    </div>

                    <div class="current-menu" *ngIf="currMenu==2">
                        <ul class="menu-filters">
                            <li class="menu-filters-item"
                                *ngFor="let item of photoFiltersList?.fancy_filters;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoSelected(item?.filter_name,idx,item?.canChange)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_fancy_{{idx}}.jpg" alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}</div>
                                </div>
                                <div *ngIf="currFilter==idx && item?.canChange" class="filter-intensity-range">
                                    <input type="range" min="0" max="1" step="0.1" value="1"
                                        (input)="onFilterRangeChange($event)" />
                                </div>
                            </li>

                        </ul>
                    </div>
                    <div class="current-menu" *ngIf="currMenu==3">
                        <ul class="menu-filters">
                            <li class="menu-filters-item"
                                *ngFor="let item of photoFiltersList?.painting_and_drawing;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoSelected(item?.filter_name,idx,item?.canChange)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_painting_{{idx}}.jpg" alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}</div>
                                </div>
                                <div *ngIf="currFilter==idx && item?.canChange" class="filter-intensity-range">
                                    <input type="range" min="0" max="1" step="0.1" value="1"
                                        (input)="onFilterRangeChange($event)" />
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="current-menu" *ngIf="currMenu==4">
                        <ul class="menu-filters">
                            <li class="menu-filters-item"
                                *ngFor="let item of photoFiltersList?.borders;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoSelected(item?.filter_name,idx,item?.canChange)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_border_{{idx}}.jpg" alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}</div>
                                </div>
                                <div *ngIf="currFilter==idx && item?.canChange" class="filter-intensity-range">
                                    <input type="range" min="0" max="1" step="0.1" value="1"
                                        (input)="onFilterRangeChange($event)" />
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="current-menu" *ngIf="currMenu==5">
                        <ul class="menu-filters">
                            <li class="menu-filters-item"
                                *ngFor="let item of photoFiltersList?.stylized;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoSelected(item?.filter_name,idx,item?.canChange)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_stylized_{{idx}}.jpg" alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}</div>
                                </div>
                                <div *ngIf="currFilter==idx && item?.canChange" class="filter-intensity-range">
                                    <input type="range" min="0" max="1" step="0.1" value="1"
                                        (input)="onFilterRangeChange($event)" />
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class=" current-menu" *ngIf="currMenu==6">
                        <ul class="menu-filters">
                            <li class="menu-filters-item"
                                *ngFor="let item of photoFiltersList?.lighting;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoSelected(item?.filter_name,idx,item?.canChange)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_lighting_{{idx}}.jpg" alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}
                                    </div>
                                </div>
                                <div *ngIf="currFilter==idx && item?.canChange" class="filter-intensity-range">
                                    <input type="range" min="0" max="1" step="0.1" value="1"
                                        (input)="onFilterRangeChange($event)" />
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="current-menu" *ngIf="currMenu==7">
                        <ul class="menu-filters">
                            <li class="menu-filters-item"
                                *ngFor="let item of photoFiltersList?.background;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoSelected(item?.filter_name,idx,item?.canChange)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_background_{{idx}}.jpg" alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}
                                    </div>
                                </div>
                                <div *ngIf="currFilter==idx && item?.canChange" class="filter-intensity-range">
                                    <input type="range" min="0" max="1" step="0.1" value="1"
                                        (input)="onFilterRangeChange($event)" />
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="current-menu" *ngIf="currMenu==8">
                        <ul class="menu-filters">
                            <li class="menu-filters-item"
                                *ngFor="let item of photoFiltersList?.draws_pictures;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoSelected(item?.filter_name,idx,item?.canChange)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_draws_pictures_{{idx}}.jpg" alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}
                                    </div>
                                </div>
                                <div *ngIf="currFilter==idx && item?.canChange" class="filter-intensity-range">
                                    <input type="range" min="0" max="1" step="0.1" value="1"
                                        (input)="onFilterRangeChange($event)" />
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="current-menu" *ngIf="currMenu==9">
                        <ul class="menu-filters">
                            <li class="menu-filters-item" *ngFor="let item of photoFiltersList?.frames;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoSelected(item?.filter_name,idx,item?.canChange)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_frames_{{idx}}.jpg" alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}
                                    </div>
                                </div>
                                <div *ngIf="currFilter==idx && item?.canChange" class="filter-intensity-range">
                                    <input type="range" min="0" max="1" step="0.1" value="1"
                                        (input)="onFilterRangeChange($event)" />
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="current-menu" *ngIf="currMenu==10">
                        <ul class="menu-filters">
                            <li class="menu-filters-item"
                                *ngFor="let item of photoFiltersList?.new_reality;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoSelected(item?.filter_name,idx,item?.canChange)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_new_reality_{{idx}}.jpg" alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}
                                    </div>
                                </div>
                                <div *ngIf="currFilter==idx && item?.canChange" class="filter-intensity-range">
                                    <input type="range" min="0" max="1" step="0.1" value="1"
                                        (input)="onFilterRangeChange($event)" />
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="current-menu" *ngIf="currMenu==11">
                        <ul class="menu-filters">
                            <li class="menu-filters-item"
                                *ngFor="let item of photoFiltersList?.celebrities;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoSelected(item?.filter_name,idx,item?.canChange)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_celebrities_{{idx}}.jpg" alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}
                                    </div>
                                </div>
                                <div *ngIf="currFilter==idx && item?.canChange" class="filter-intensity-range">
                                    <input type="range" min="0" max="1" step="0.1" value="1"
                                        (input)="onFilterRangeChange($event)" />
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="current-menu" *ngIf="currMenu==12">
                        <ul class="menu-filters">
                            <li class="menu-filters-item"
                                *ngFor="let item of photoFiltersList?.animations;let idx = index">
                                <div class="menu-filters-thumb"
                                    (click)="onFilterPhotoAnimationSelected(item?.filter_name,idx)">
                                    <img (error)="onFilterThumbErro($event)"
                                        src="./assets/images/filters/filter_animations_{{item?.filter_name}}.gif"
                                        alt="">
                                    <div class="text" [ngClass]="{'selected':currFilter ==idx}">{{item?.name}}
                                    </div>
                                </div>
                                <!-- <div *ngIf="currFilter==idx && item?.canChange" class="filter-intensity-range">
                                            <input type="range" min="0" max="1" step="0.1" value="1"
                                                (input)="onFilterRangeChange($event)" />
                                        </div> -->
                            </li>
                        </ul>
                    </div>
                    <div class="current-menu menu-logomarca" *ngIf="currMenu == 99">
                        <!-- <h2 class="text-white text-center">Logomarca</h2> -->
                        <div>
                            <div class="text-white font-weight-bold">Texto</div>
                            <input type="text" class="form-control" placeholder="Texto" [value]="pfService?.text?.text"
                                (input)="changeLogoText($event)">

                        </div>
                        <div>
                            <div class="text-white font-weight-bold">Tamanho do Texto</div>
                            <input type="range" class="w-100" min="30" max="150" step="2"
                                [value]="pfService?.text?.fontSize || 50" (input)="onLogoTextSizeChange($event)">
                        </div>
                        <div>
                            <div class="text-white font-weight-bold">Posição do Texto</div>
                            <select class="form-control" (change)="onLogoTextPositionChange($event)">
                                <option [value]="null" style="display: none;">Escolha</option>
                                <option [value]="1">Topo-Esquerdo</option>
                                <option [value]="2">Topo-Centro</option>
                                <option [value]="3">Topo-Direito</option>
                                <option [value]="4">Centro-Esquerdo</option>
                                <option [value]="5">Centro</option>
                                <option [value]="6">Centro-Direito</option>
                                <option [value]="7">Fundo-Esquerdo</option>
                                <option [value]="8">Fundo-Centro</option>
                                <option [value]="9">Fundo-Direito</option>
                            </select>
                        </div>
                        <div>
                            <div class="text-white font-weight-bold">Cor do Texto</div>
                            <color-chrome color="#fff" (onChangeComplete)="onLogoTextColorChange($event)"
                                [disableAlpha]="true">
                            </color-chrome>


                        </div>
                        <div>
                            <div class="text-white font-weight-bold">Imagem</div>
                            <label for="logomarcaImg" class="btn btn-primary btn-block">
                                <i class="fa fa-image mr-1"></i>Upload
                                <input type="file" placeholder="Image" accept="image/*"
                                    (change)="changeLogoImage($event)" hidden id="logomarcaImg">
                            </label>
                        </div>
                        <div>
                            <!-- <div class="text-white font-weight-bold">Remover Imagem</div> -->
                            <button class="btn btn-danger btn-block" (click)="onRemoveLogoImage()">
                                <i class="fa far fa-trash mr-1"></i> Remover Imagem
                            </button>
                        </div>
                        <div>
                            <div class="text-white font-weight-bold">Tamanho da Imagem</div>
                            <input type="range" class="w-100" min="50" max="500" step="2"
                                [value]="pfService?.image?.getScaledWidth() || 50"
                                (input)="onLogoImageSizeChange($event)">
                        </div>
                        <div>
                            <div class="text-white font-weight-bold">Posição da Imagem</div>
                            <select class="form-control" (change)="onLogoImagePositionChange($event)"
                                [(ngModel)]="logoImagePos">
                                <option [ngValue]="null" disabled>Escolha</option>
                                <option [value]="1">Topo-Esquerdo</option>
                                <option [value]="2">Topo-Centro</option>
                                <option [value]="3">Topo-Direito</option>
                                <option [value]="4">Centro-Esquerdo</option>
                                <option [value]="5">Centro</option>
                                <option [value]="6">Centro-Direito</option>
                                <option [value]="7">Fundo-Esquerdo</option>
                                <option [value]="8">Fundo-Centro</option>
                                <option [value]="9">Fundo-Direito</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>